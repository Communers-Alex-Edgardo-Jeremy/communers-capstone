<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<head>
    <th:block th:insert="~{partials/partials :: head}"></th:block>
    <title>Login</title>
<!--    <link rel="stylesheet" href="/css/password.css">-->
</head>
<body class="d-flex flex-column" id="gradient">
    <nav class="pb-3" th:replace="~{/partials/partials :: navbar}" ></nav>
    <h1 class="page-title mx-auto mt-4">Register</h1>

    <div class="container d-flex flex-grow-1 justify-content-center align-items-center">
        <div class="alert alert-danger" th:if="${errMsg}">
            Something bad happened!
        </div>
        <div class="card sign-up-card mt-3 mb-5">
            <div class="card-bg opacity-50 flex-grow-1"></div>
            <div class="card-body d-flex flex-column">
                <form class="d-flex flex-column" th:action="@{/register}" method="POST" th:object="${user}">
                    <label class="mt-1 mb-0" for="username">Username</label>
                    <input class="ps-2" id="username" th:field="*{username}" required/>

                    <label class="mt-1 mb-0" for="first_name">First Name</label>
                    <input class="ps-2" id="first_name" th:field="*{first_name}" required/>

                    <label class="mt-1 mb-0" for="last_name">Last Name</label>
                    <input class="ps-2" id="last_name" th:field="*{last_name}" required/>

                    <label class="mt-1 mb-0" for="email">Email</label>
                    <input class="ps-2" id="email" th:field="*{email}" required/>

                    <label class="mt-1 mb-0" for="psw">Password</label>
                    <input class="ps-2" type="password" id="psw" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" th:field="*{password}" required>

                    <input class="mt-3 btn btn-sm me-auto py-0" value="Sign me up!" type="submit" />
                </form>
                <div class="d-flex mt-2">
                    <p class="my-auto">Already a member?</p>
                    <a class="btn btn-sm login-btn ms-2 me-auto mt-auto py-0" th:href="@{|/login|}">Log In</a>
                </div>
            </div>
        </div>
        <div class="password-validation mt-3 mb-5 p-3" id="message">
            <div class="d-flex flex-column">
                <h4>Password must contain the following:</h4>
                <p id="letter" class="invalid fs-5">A <b>lowercase</b> letter</p>
                <p id="capital" class="invalid fs-5">A <b>capital (uppercase)</b> letter</p>
                <p id="number" class="invalid fs-5">A <b>number</b></p>
                <p id="length" class="invalid fs-5">Minimum <b>8 characters</b></p>
            </div>
        </div>
    </div>
    <footer th:replace="~{/partials/partials :: footer}"></footer>
    <script src="/js/password.js"></script>
    <script src="/js/background.js"></script>
</body>
</html>